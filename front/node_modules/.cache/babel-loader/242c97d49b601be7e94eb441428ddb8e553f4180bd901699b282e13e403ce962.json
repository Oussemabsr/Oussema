{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/USER/OneDrive/Bureau/SELL BUY/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/USER/OneDrive/Bureau/SELL BUY/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';import{ADD_POST,EDIT_POST,DELETE_POST,FETCH_POSTS_SUCCESS,FETCH_POSTS_FAILURE}from'../ActionTypes/add';// Action to add a new post\nexport var addPost=function addPost(newPostData){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post('/api/postt/add',newPostData);case 3:result=_context.sent;// Updated URL\ndispatch({type:ADD_POST,payload:result.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error('Error adding post:',_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function(_x){return _ref.apply(this,arguments);};}();};// Action to edit a post\nexport var editPost=function editPost(postId,updatedPostData){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.put(\"/api/posts/\".concat(postId),updatedPostData);case 3:result=_context2.sent;dispatch({type:EDIT_POST,payload:{postId:postId,updatedPostData:result.data}});_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.error('Error editing post:',_context2.t0);case 10:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};// Action to delete a post\nexport var deletePost=function deletePost(postId){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.delete(\"/api/posts/\".concat(postId));case 3:dispatch({type:DELETE_POST,payload:postId});_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);console.error('Error deleting post:',_context3.t0);case 9:case\"end\":return _context3.stop();}},_callee3,null,[[0,6]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};// Action to fetch posts\nexport var fetchPosts=function fetchPosts(){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch){var response,posts;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.get('/api/postt/all');case 3:response=_context4.sent;// Update the URL to match your API endpoint\nposts=response.data.allPosts;// Assuming the API response contains an array of posts\ndispatch({type:FETCH_POSTS_SUCCESS,payload:posts});_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);dispatch({type:FETCH_POSTS_FAILURE,payload:_context4.t0.message});case 11:case\"end\":return _context4.stop();}},_callee4,null,[[0,8]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","ADD_POST","EDIT_POST","DELETE_POST","FETCH_POSTS_SUCCESS","FETCH_POSTS_FAILURE","addPost","newPostData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","result","wrap","_callee$","_context","prev","next","post","sent","type","payload","data","t0","console","error","stop","_x","apply","arguments","editPost","postId","updatedPostData","_ref2","_callee2","_callee2$","_context2","put","concat","_x2","deletePost","_ref3","_callee3","_callee3$","_context3","delete","_x3","fetchPosts","_ref4","_callee4","response","posts","_callee4$","_context4","get","allPosts","message","_x4"],"sources":["C:/Users/USER/OneDrive/Bureau/SELL BUY/front/src/JS/Actions/add.js"],"sourcesContent":["import axios from 'axios';\r\nimport { ADD_POST, EDIT_POST, DELETE_POST, FETCH_POSTS_SUCCESS, FETCH_POSTS_FAILURE } from '../ActionTypes/add';\r\n\r\n// Action to add a new post\r\nexport const addPost = (newPostData) => async (dispatch) => {\r\n  try {\r\n    const result = await axios.post('/api/postt/add', newPostData); // Updated URL\r\n    dispatch({ type: ADD_POST, payload: result.data });\r\n  } catch (error) {\r\n    console.error('Error adding post:', error);\r\n  }\r\n};\r\n\r\n\r\n// Action to edit a post\r\nexport const editPost = (postId, updatedPostData) => async (dispatch) => {\r\n  try {\r\n    const result = await axios.put(`/api/posts/${postId}`, updatedPostData);\r\n    dispatch({ type: EDIT_POST, payload: { postId, updatedPostData: result.data } });\r\n  } catch (error) {\r\n    console.error('Error editing post:', error);\r\n  }\r\n};\r\n\r\n// Action to delete a post\r\nexport const deletePost = (postId) => async (dispatch) => {\r\n  try {\r\n    await axios.delete(`/api/posts/${postId}`);\r\n    dispatch({ type: DELETE_POST, payload: postId });\r\n  } catch (error) {\r\n    console.error('Error deleting post:', error);\r\n  }\r\n};\r\n\r\n// Action to fetch posts\r\nexport const fetchPosts = () => async (dispatch) => {\r\n  try {\r\n    const response = await axios.get('/api/postt/all'); // Update the URL to match your API endpoint\r\n    const posts = response.data.allPosts; // Assuming the API response contains an array of posts\r\n    dispatch({ type: FETCH_POSTS_SUCCESS, payload: posts });\r\n  } catch (error) {\r\n    dispatch({ type: FETCH_POSTS_FAILURE, payload: error.message });\r\n  }\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}